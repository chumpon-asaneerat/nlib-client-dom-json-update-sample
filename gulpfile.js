const gulp = require('gulp');
const concat = require('gulp-concat');
const debug = require('gulp-debug');
const order = require("gulp-order");

gulp.task('js-bundle', () => {
    let src = [
        'nlib-html-core.js',
        'nlib-html-tag-a.js',
        'nlib-html-tag-abbr.js',
        'nlib-html-tag-address.js',
        'nlib-html-tag-area.js',
        'nlib-html-tag-article.js',
        'nlib-html-tag-aside.js',
        'nlib-html-tag-audio.js',
        'nlib-html-tag-b.js',
        'nlib-html-tag-base.js',
        'nlib-html-tag-bdi.js',
        'nlib-html-tag-bdo.js',
        'nlib-html-tag-blockquote.js',
        'nlib-html-tag-body.js',
        'nlib-html-tag-br.js',
        'nlib-html-tag-button.js',
        'nlib-html-tag-canvas.js',
        'nlib-html-tag-caption.js',
        'nlib-html-tag-center.js',
        'nlib-html-tag-code.js',
        'nlib-html-tag-col.js',
        'nlib-html-tag-colgroup.js',
        'nlib-html-tag-data.js',
        'nlib-html-tag-datalist.js',
        'nlib-html-tag-dd.js',
        'nlib-html-tag-del.js',
        'nlib-html-tag-details.js',
        'nlib-html-tag-dfn.js',
        'nlib-html-tag-dialog.js',
        'nlib-html-tag-div.js',
        'nlib-html-tag-dl.js',
        'nlib-html-tag-dt.js',
        'nlib-html-tag-em.js',
        'nlib-html-tag-embed.js',
        'nlib-html-tag-fieldset.js',
        'nlib-html-tag-figcaption.js',
        'nlib-html-tag-figure.js',
        'nlib-html-tag-footer.js',
        'nlib-html-tag-form.js',
        'nlib-html-tag-h1.js',
        'nlib-html-tag-h2.js',
        'nlib-html-tag-h3.js',
        'nlib-html-tag-h4.js',
        'nlib-html-tag-h5.js',
        'nlib-html-tag-h6.js',
        'nlib-html-tag-head.js',
        'nlib-html-tag-header.js',
        'nlib-html-tag-hr.js',
        'nlib-html-tag-html.js',
        'nlib-html-tag-i.js',
        'nlib-html-tag-iframe.js',
        'nlib-html-tag-img.js',
        'nlib-html-tag-input.js',
        'nlib-html-tag-ins.js',
        'nlib-html-tag-kbd.js',
        'nlib-html-tag-label.js',
        'nlib-html-tag-legend.js',
        'nlib-html-tag-li.js',
        'nlib-html-tag-link.js',
        'nlib-html-tag-main.js',
        'nlib-html-tag-map.js',
        'nlib-html-tag-mark.js',
        'nlib-html-tag-meta.js',
        'nlib-html-tag-meter.js',
        'nlib-html-tag-nav.js',
        'nlib-html-tag-noscript.js',
        'nlib-html-tag-object.js',
        'nlib-html-tag-ol.js',
        'nlib-html-tag-optgroup.js',
        'nlib-html-tag-option.js',
        'nlib-html-tag-output.js',
        'nlib-html-tag-p.js',
        'nlib-html-tag-param.js',
        'nlib-html-tag-picture.js',
        'nlib-html-tag-pre.js',
        'nlib-html-tag-progress.js',
        'nlib-html-tag-q.js',
        'nlib-html-tag-s.js',
        'nlib-html-tag-samp.js',
        'nlib-html-tag-script.js',
        'nlib-html-tag-section.js',
        'nlib-html-tag-select.js',
        'nlib-html-tag-small.js',
        'nlib-html-tag-source.js',
        'nlib-html-tag-span.js',
        'nlib-html-tag-strong.js',
        'nlib-html-tag-style.js',
        'nlib-html-tag-sub.js',
        'nlib-html-tag-summary.js',
        'nlib-html-tag-sup.js',
        'nlib-html-tag-svg.js',
        'nlib-html-tag-table.js',
        'nlib-html-tag-tbody.js',
        'nlib-html-tag-td.js',
        'nlib-html-tag-template.js',
        'nlib-html-tag-textarea.js',
        'nlib-html-tag-tfoot.js',
        'nlib-html-tag-th.js',
        'nlib-html-tag-thead.js',
        'nlib-html-tag-time.js',
        'nlib-html-tag-title.js',
        'nlib-html-tag-tr.js',
        'nlib-html-tag-track.js',
        'nlib-html-tag-u.js',
        'nlib-html-tag-ul.js',
        'nlib-html-tag-var.js',
        'nlib-html-tag-video.js',
        'nlib-html-tag-wbr.js',
        'nlib-html-attribute-src.js',
        'nlib-html-attribute-width.js',
        'nlib-html-attribute-height.js'
    ];
    let dest = 'nlib-html.js';
    return gulp.src([
        '*.js',
        //'!nlib-html-core.js',
        //'!nlib-html-tag-div.js',
        //'!nlib-html-tag-img.js',
        //'!nlib-html-attribute-src.js',
        '!index.js',
        '!nlib-dom-json*.js',
        '!gulpfile.js'
    ])
        .pipe(order(src))
        .pipe(debug())
        .pipe(concat(dest))
        .pipe(gulp.dest('js'));
});